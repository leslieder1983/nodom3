{"code":"/**\r\n * 存储\r\n */\r\nexport class NCache {\r\n    constructor() {\r\n        this.cacheData = {};\r\n    }\r\n    /**\r\n     * 从cache\r\n     * @param key   键，支持\".\"\r\n     * @reutrns     值或undefined\r\n     */\r\n    get(key) {\r\n        let p = this.cacheData;\r\n        if (key.indexOf('.') !== -1) {\r\n            let arr = key.split('.');\r\n            if (arr.length > 1) {\r\n                for (let i = 0; i < arr.length - 1 && p; i++) {\r\n                    p = p[arr[i]];\r\n                }\r\n                if (p) {\r\n                    key = arr[arr.length - 1];\r\n                }\r\n            }\r\n        }\r\n        if (p) {\r\n            return p[key];\r\n        }\r\n    }\r\n    /**\r\n     * 保存值\r\n     * @param key       键\r\n     * @param value     值\r\n     */\r\n    set(key, value) {\r\n        let p = this.cacheData;\r\n        if (key.indexOf('.') !== -1) {\r\n            let arr = key.split('.');\r\n            if (arr.length > 1) {\r\n                for (let i = 0; i < arr.length - 1; i++) {\r\n                    if (!p[arr[i]] || typeof p[arr[i]] !== 'object') {\r\n                        p[arr[i]] = {};\r\n                    }\r\n                    p = p[arr[i]];\r\n                }\r\n                key = arr[arr.length - 1];\r\n            }\r\n        }\r\n        if (p) {\r\n            p[key] = value;\r\n        }\r\n    }\r\n    /**\r\n     * 移除键\r\n     * @param key   键\r\n     */\r\n    remove(key) {\r\n        let p = this.cacheData;\r\n        if (key.indexOf('.') !== -1) {\r\n            let arr = key.split('.');\r\n            if (arr.length > 1) {\r\n                for (let i = 0; i < arr.length - 1 && p; i++) {\r\n                    p = p[arr[i]];\r\n                }\r\n                if (p) {\r\n                    key = arr[arr.length - 1];\r\n                }\r\n            }\r\n        }\r\n        if (p) {\r\n            delete p[key];\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=cache.js.map","references":[],"map":"{\"version\":3,\"file\":\"cache.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../core/cache.ts\"],\"names\":[],\"mappings\":\"AAAA;;GAEG;AACH,MAAM,OAAO,MAAM;IAGf;QACI,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACxB,CAAC;IAED;;;;OAIG;IACI,GAAG,CAAC,GAAU;QACjB,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;QACvB,IAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAC;YACvB,IAAI,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACzB,IAAG,GAAG,CAAC,MAAM,GAAC,CAAC,EAAC;gBACZ,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,GAAG,CAAC,MAAM,GAAC,CAAC,IAAI,CAAC,EAAC,CAAC,EAAE,EAAC;oBAChC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iBACjB;gBACD,IAAG,CAAC,EAAC;oBACD,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;iBAC3B;aACJ;SACJ;QACD,IAAG,CAAC,EAAC;YACD,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;SACjB;IACL,CAAC;IAED;;;;OAIG;IACI,GAAG,CAAC,GAAU,EAAC,KAAS;QAC3B,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;QACvB,IAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAC;YACvB,IAAI,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACzB,IAAG,GAAG,CAAC,MAAM,GAAC,CAAC,EAAC;gBACZ,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,GAAG,CAAC,MAAM,GAAC,CAAC,EAAC,CAAC,EAAE,EAAC;oBAC3B,IAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAC;wBAC3C,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;qBAClB;oBACD,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iBACjB;gBACD,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;aAC3B;SACJ;QAED,IAAG,CAAC,EAAC;YACD,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;SAClB;IACL,CAAC;IAED;;;OAGG;IACI,MAAM,CAAC,GAAU;QACpB,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;QACvB,IAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAC;YACvB,IAAI,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACzB,IAAG,GAAG,CAAC,MAAM,GAAC,CAAC,EAAC;gBACZ,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,GAAG,CAAC,MAAM,GAAC,CAAC,IAAI,CAAC,EAAC,CAAC,EAAE,EAAC;oBAChC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iBACjB;gBACD,IAAG,CAAC,EAAC;oBACD,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;iBAC3B;aACJ;SACJ;QAED,IAAG,CAAC,EAAC;YACD,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;SACjB;IACL,CAAC;CACJ\"}"}
